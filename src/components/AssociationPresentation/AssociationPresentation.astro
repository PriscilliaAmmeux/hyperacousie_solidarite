---
import Title from "../../ui/Title/Title.astro";
import "./AssociationPresentation.css";

// DRY principle - Define content once
const hyperacousieContent = {
  title: "Qu'est-ce que l'hyperacousie ?",
  description: "L'hyperacousie est un trouble de l'audition caractérisé par une intolérance aux sons du quotidien, même lorsqu'ils sont à un volume normalement tolérable pour la majorité des personnes. Elle peut fortement impacter la qualité de vie des personnes qui en souffrent. Elle est régulièrement accompagnée d'acouphènes.",
  stats: {
    percentage: "1,5 % à 2,5 % de la population",
    source: "Estimation épidémiologique (LeMédecin.fr)",
    reference: "* Sources : Ministère de la Santé (Prévention des risques liés au bruit)"
  }
};

const associationContent = {
  title: "L'association",
  description: "L’hyperacousie bouleverse la vie de celles et ceux qui en souffrent. Notre association est née de la volonté de briser l’isolement, de partager des informations fiables, d’offrir du soutien et de porter la voix des personnes concernées auprès du grand public et des institutions. Ensemble, nous avançons pour un avenir plus inclusif.",
  image: {
    src: "/image-femme-de-dos-avec-casque-antibruit.webp",
    alt: "Femme de dos portant un casque antibruit, illustrant la protection auditive pour l'hyperacousie"
  }
};
---

<section class="margin-top">
  <div class="association-container">
    
    <!-- Image section -->
    <figure class="image-section">
      <div class="relative">
        <img 
          src={associationContent.image.src}
          alt={associationContent.image.alt}
          aria-label={associationContent.image.alt}
          class="association-image"
          loading="lazy"
        />
      </div>
    </figure>
    
    <!-- Text content -->
    <article class="text-content">
      <section>
        <Title
          text={associationContent.title}
          className="mb-4 section-title"
          level="2"
        />
        <p class="association-description">
          {associationContent.description}
        </p>
      </section>
    </article>
    
  </div>

  <!--Section hyperacousie quesaco ?-->
  <!-- parallelogram section -->
  <section class="parallelogram-section">
    <div class="parallelogram">
      <!-- Three parallelogramme - background -->
      <div class="third-parallelogram"></div>
      
      <Title
        text={hyperacousieContent.title}
        className="mb-4 parallelogram-text"
        level="3"
      />
      <p class="parallelogram-text padding-left">
        {hyperacousieContent.description}
      </p>

      <!-- Little parallelogramme -->
      <div class="second-parallelogram">
        <p class="second-parallelogram-text size-text">
          {hyperacousieContent.stats.percentage}
        </p>
        <p class="second-parallelogram-text font-size-small">
          {hyperacousieContent.stats.source}
        </p>
        <p class="second-parallelogram-text font-size-small padding-top">
          {hyperacousieContent.stats.reference}
        </p>
      </div>
    </div>
  </section>
  
  <!-- Mobile responsive alternative (hidden on desktop) -->
  <section class="green-section mobile-only">
    <div class="green-content">
      <Title
        text={hyperacousieContent.title}
        className="mb-4 section-title"
        level="3"
      />
      
      <div class="content-columns">
        <div class="main-content">
          <p class="description-text-hyperacousie-quesako">
            {hyperacousieContent.description}
          </p>
        </div>
        
        <div class="stats-content">
          <div class="stat-card">
            <p class="stat-number">
              {hyperacousieContent.stats.percentage}
            </p>
            <p class="stat-description">
              {hyperacousieContent.stats.source}
            </p>
            <p class="stat-source">
              {hyperacousieContent.stats.reference}
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
</section>
