---
// Navigation component for Hyperacousie Solidarité
import Button from '../Button/Button.astro';
import { getNavigationItems, isCurrentPage } from '../../utils/helpers.ts';
import '../../styles/variables.css';
import './NavBar.css';

const { currentPath = '' } = Astro.props;
const navItems = getNavigationItems();
---

<div class="navbar-container">
  <nav class="navbar" role="navigation" aria-label="Navigation principale">
    <section class="navbar-logo">
      <a href="/" class="logo-link" aria-label="Retour à l'accueil - Hyperacousie Solidarité">
        <img 
          src="/logo.webp" 
          alt="Logo Hyperacousie Solidarité"
          class="logo"
        />
      </a>
    </section>
    
    <section class="navbar-nav">
      <div class="nav-links" role="list">
        {navItems.map((item) => (
          <a 
            href={item.href}
            class={`nav-link ${
              isCurrentPage(item.href, currentPath)
                ? 'nav-link-active'
                : 'nav-link-default'
            }`}
            role="listitem"
            aria-current={isCurrentPage(item.href, currentPath) ? 'page' : undefined}
            tabindex="0"
          >
            {item.label}
          </a>
        ))}
      </div>
    </section>

    <!-- CTA Button on the right -->
    <section class="navbar-cta">
      <Button 
        variant="teal" 
        size="sm"
        href="/adhesions-dons"
        aria-label="Adhérer à l'association ou faire un don via HelloAsso"
      >
        Adhérer / Faire un don
      </Button>
    </section>
  </nav>
</div>


